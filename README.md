# BTCMarkets Market Data API C Library

**contact: agentsoftraderesearch@gmail.com**

## ðŸ“¦ Project Structure
```bash
.
â”œâ”€â”€ bin/                  # Generated by build - Compiled executables
â”‚   â””â”€â”€ main              # examples output
â”œâ”€â”€ build/                # Generated by build - Object files (temporary build files)
â”‚   â””â”€â”€ main.o
â”‚   â””â”€â”€ market_data_api_init.o
â”‚   â””â”€â”€ market_data_v2.o
â”‚   â””â”€â”€ market_data_v3.o
â”‚   â””â”€â”€ market_data.o
â”œâ”€â”€ lib/                  # Generated by build - shared library files
â”‚   â””â”€â”€ libmarket_data.so
â””â”€â”€ docs/                 # Documents
â”œâ”€â”€ include/              # Header files
â”‚   â””â”€â”€ btcmarkets/
â”‚       â””â”€â”€ market_data_api_init.h
â”‚       â””â”€â”€ market_data_types.h
â”‚       â””â”€â”€ market_data_v2.h
â”‚       â””â”€â”€ market_data_v3.h
â”‚       â””â”€â”€ market_data.h
â”œâ”€â”€ examples/             # Examples
â”‚   â””â”€â”€ example-library-consumption/ # Example of consumption by C-project
â”‚       â””â”€â”€ src/
â”‚           â””â”€â”€ main.c
â”‚       â””â”€â”€ Makefile
â”‚   â””â”€â”€ main.c            # Example usage
â”œâ”€â”€ src/                  # Source files
â”‚   â””â”€â”€ market_data_api_init.c
â”‚   â””â”€â”€ market_data_v2.c
â”‚   â””â”€â”€ market_data_v3.c
â”‚   â””â”€â”€ market_data.c
â”œâ”€â”€ tests/
â”‚   â”œâ”€â”€ integration_tests/
â”‚       â”œâ”€â”€ bin/                 # Compiled test binaries
â”‚           â””â”€â”€ market_data_test # Generated by 'make test'
â”‚       â””â”€â”€ market_data_tests.c  # Test cases for application logic
â””â”€â”€ Makefile                     # Makefile for building, testing, and running the project
â””â”€â”€ LICENSE
â””â”€â”€ README.md
â””â”€â”€ .gitignore
```

## Dependencies
*See Dockerfile for list of dependencies.*

## Run Tests (using Criterion Library)
```bash
$ make test
$ ./tests/integration_tests/bin/market_data_tests --verbose
```

## Build
```bash
$ make
```

## Run example usage from examples/main.c
```bash
$ ./bin/main
```

## Install as shared-library
```bash
$ make install

```

## Test example consumption of shared-library from examples/example-library-consumption
```bash
$ cd ./examples/example-library-consumption
$ make
$ ./main
```

# Alternative: 
## Test build in an isolated environment
```bash
$ docker build -t c-dev-env .
$ docker run --rm -it --user root -v <local path to btcmarkets-api repository>:/home/devuser/project c-dev-env # run as root in container so you can install the shared-library with make install

# then when dropped into the container shell run...
c-dev-env$ make
c-dev-env$ make test
c-dev-env$ ./bin/main # run example usage
c-dev-env$ make install # install shared library

# after installation test the shared-library can be consumed by a simple C-project from examples/example-library-consumption
c-dev-env$ cd ./examples/example-library-consumption
c-dev-env$ make
c-dev-env$ ./main
```
